# SonarQube Project Configuration

# Project identification
sonar.projectKey=com.inetum.prices:prices-api
sonar.projectName=Prices API
sonar.projectVersion=0.0.1-SNAPSHOT

# Project metadata
sonar.organization=inetum
sonar.sourceEncoding=UTF-8

# Source and test paths
sonar.sources=src/main/java
sonar.tests=src/test/java

# Binary paths for analysis
sonar.java.binaries=target/classes
sonar.java.test.binaries=target/test-classes

# JaCoCo coverage report path
sonar.coverage.jacoco.xmlReportPaths=target/site/jacoco/jacoco.xml

# Exclusions from analysis
sonar.exclusions=\
  **/application/rest/dto/**,\
  **/application/config/**,\
  **/infrastructure/persistence/entity/**,\
  **/infrastructure/persistence/converter/**,\
  **/PricesApplication.java,\
  **/benchmark/**

# Test exclusions
sonar.test.exclusions=\
  **/test/**/*Test.java,\
  **/test/**/*IntegrationTest.java

# Java version
sonar.java.source=21
sonar.java.target=21

# Quality gate settings
# Wait for SonarQube analysis to complete and check quality gate status
sonar.qualitygate.wait=true
sonar.qualitygate.timeout=300

# Code coverage thresholds (configured in SonarQube UI)
# - Overall Coverage: >= 75%
# - New Code Coverage: >= 80%
# - Duplicated Lines: < 3%
# - Maintainability Rating: A
# - Reliability Rating: A
# - Security Rating: A
# - Bugs: 0
# - Vulnerabilities: 0
# - Security Hotspots Reviewed: 100%

# Issue detection
sonar.issue.ignore.multicriteria=e1,e2

# Ignore issues in generated code
sonar.issue.ignore.multicriteria.e1.ruleKey=java:S*
sonar.issue.ignore.multicriteria.e1.resourceKey=**/*Mapper*.java

# Ignore issues in test utilities
sonar.issue.ignore.multicriteria.e2.ruleKey=java:S2699
sonar.issue.ignore.multicriteria.e2.resourceKey=**/test/**/*.java

# Additional analysis parameters
sonar.dynamicAnalysis=reuseReports
sonar.junit.reportPaths=target/surefire-reports
sonar.surefire.reportsPath=target/surefire-reports

# Branch analysis (for pull requests)
# sonar.pullrequest.key=
# sonar.pullrequest.branch=
# sonar.pullrequest.base=main
